<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lavy üíó</title>

  <meta property="og:title" content="Lavy, will you be my valentine? üíó" />
  <meta property="og:description" content="Open pls üíó" />
  <meta property="og:type" content="website" />

  <style>
    :root { --bg: #f7c0d6; --card: #ffffff; --accent: #ff3b7a; }
    * { box-sizing: border-box; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    body {
      margin: 0; min-height: 100vh; display: grid; place-items: center;
      background: radial-gradient(circle at 20% 20%, #ffd6e6 0, transparent 40%),
                  radial-gradient(circle at 80% 10%, #ffe5ef 0, transparent 35%),
                  var(--bg);
      overflow: hidden;
    }
    .card {
      width: min(360px, 92vw);
      background: var(--card);
      border-radius: 18px;
      padding: 22px 18px 18px;
      box-shadow: 0 18px 50px rgba(0,0,0,.18);
      text-align: center;
      position: relative;
    }
    .bear {
      width: 64px; height: 64px; margin: 0 auto 10px;
      display: grid; place-items: center;
      border-radius: 16px;
      background: #ffeef5;
      font-size: 34px;
    }
    h1 { margin: 8px 0 14px; font-size: 22px; font-weight: 800; }
    h1 .name { color: var(--accent); }

    .btnRow { position: relative; height: 86px; }
    .btn {
      border: 0; border-radius: 999px; cursor: pointer;
      padding: 14px 18px; font-weight: 900;
      transition: transform .08s ease;
      user-select: none;
    }
    .btn:active { transform: scale(.98); }

    #yesBtn {
      width: 100%;
      background: var(--accent);
      color: white;
      font-size: 22px;
      box-shadow: 0 14px 28px rgba(255,59,122,.35);
    }
    #noBtn {
      position: absolute;
      left: 10px; top: 6px;
      background: #fff3f7;
      color: #7a1236;
      font-size: 14px;
      padding: 10px 14px;
      border: 1px solid rgba(122,18,54,.12);
    }

    .hint { margin-top: 10px; font-size: 12px; opacity: .75; }

    .result {
      display: none;
      margin-top: 12px;
      padding: 14px 12px;
      background: #fff3f7;
      border-radius: 14px;
      font-weight: 900;
      color: #7a1236;
      font-size: 18px;
      line-height: 1.25;
    }
    .result .heart { color: var(--accent); }

    /* floating flowers */
    .flower {
      position: fixed; left: 0; top: 0;
      pointer-events: none;
      opacity: .92;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
    }
    @keyframes floatUp {
      from { transform: translate(var(--x), 110vh) rotate(0deg) scale(var(--s)); }
      to   { transform: translate(var(--x2), -12vh) rotate(260deg) scale(calc(var(--s) + .2)); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="bear">üêª‚Äç‚ùÑÔ∏èüíó</div>
    <h1><span class="name">Lavy</span>, will you be my valentine?</h1>

    <div class="btnRow" id="btnRow">
      <button class="btn" id="noBtn" type="button">No üôÉ</button>
      <button class="btn" id="yesBtn" type="button">Yes! ‚ú®</button>
    </div>

    <div class="hint">Try to catch the ‚ÄúNo‚Äù button‚Ä¶ if you can üòà</div>

    <div class="result" id="result">
      Yayy, You are now Shrey's Valentine <span class="heart">üíó</span>
    </div>
  </div>

  <!-- IMPORTANT:
       Put a file named "music.mp3" in the SAME repo (root) as index.html.
       Example: Add file -> Upload files -> music.mp3
  -->
  <audio id="bgm" src="music.mp3" preload="auto" loop></audio>

  <script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const btnRow = document.getElementById("btnRow");
    const result = document.getElementById("result");
    const hint = document.querySelector(".hint");
    const bgm = document.getElementById("bgm");

    // Autoplay reality check:
    // Most browsers BLOCK autoplay with sound until user interacts.
    // So we: try to start muted on load, then enable sound on first click/tap (Yes or anywhere).
    async function tryStartMusicMuted() {
      try {
        bgm.muted = true;
        await bgm.play();
      } catch (e) {
        // ignored: browser blocked it
      }
    }
    tryStartMusicMuted();

    function enableMusicWithSound() {
      // called on first user interaction
      document.removeEventListener("pointerdown", enableMusicWithSound);
      document.removeEventListener("keydown", enableMusicWithSound);
      try {
        bgm.muted = false;
        bgm.volume = 0.35; // soft
        bgm.play();
      } catch (e) {}
    }
    document.addEventListener("pointerdown", enableMusicWithSound, { once: true });
    document.addEventListener("keydown", enableMusicWithSound, { once: true });

    function moveNo() {
      const pad = 6;
      const rowRect = btnRow.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const maxX = rowRect.width - btnRect.width - pad;
      const maxY = rowRect.height - btnRect.height - pad;

      const x = Math.max(pad, Math.random() * maxX);
      const y = Math.max(pad, Math.random() * maxY);

      noBtn.style.left = `${x}px`;
      noBtn.style.top  = `${y}px`;
    }

    ["mouseenter","mouseover","touchstart","click"].forEach(evt =>
      noBtn.addEventListener(evt, (e) => { e.preventDefault(); moveNo(); }, { passive: false })
    );

    yesBtn.addEventListener("click", () => {
      // ensure music starts with sound after interaction
      enableMusicWithSound();

      noBtn.style.display = "none";
      yesBtn.style.display = "none";
      hint.style.display = "none";
      result.style.display = "block";
      megaFlowerStorm();
    });

    // MORE FLOWERS: more initial burst + longer storm + variety in size
    function megaFlowerStorm() {
      for (let i = 0; i < 60; i++) spawnFlower();          // big initial burst
      const id = setInterval(spawnFlower, 120);            // dense rain
      setTimeout(() => clearInterval(id), 7000);           // longer duration
    }

    function spawnFlower() {
      const f = document.createElement("div");
      f.className = "flower";

      // "flower vibe" emojis that render on most phones
      const icons = ["üíÆ","üå∏","üå∑","üíê","ü™∑","üå∫","ü§ç","üåø"];
      f.textContent = icons[Math.floor(Math.random() * icons.length)];

      const x = Math.random() * 100;
      const x2 = x + (Math.random() * 34 - 17);
      const s = (0.9 + Math.random() * 1.3).toFixed(2);    // size 0.9x to 2.2x
      f.style.setProperty("--x", `${x}vw`);
      f.style.setProperty("--x2", `${x2}vw`);
      f.style.setProperty("--s", s);

      f.style.fontSize = `${16 + Math.random() * 18}px`;   // 16px to 34px
      f.style.animationDuration = `${3.5 + Math.random() * 3.0}s`;

      document.body.appendChild(f);
      setTimeout(() => f.remove(), 8000);
    }

    moveNo();
  </script>
</body>
</html>
